{"version":3,"sources":["services/persons.js","components/Filter.js","components/NewPerson.js","components/PhoneBook.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","exportVariables","getAll","a","request","axios","get","response","data","create","newObject","post","update","id","put","remove","delete","doNothing","event","preventDefault","Filter","newFilter","filterNames","onSubmit","value","onChange","NewPerson","addEntry","newName","handleNewName","newNumber","handleNewNumber","type","PhoneBook","persons","removeEntry","filterUpperCase","toUpperCase","filter","person","name","includes","map","number","onClick","styles","success","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","fail","Notification","message","className","style","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","setSuccess","getPersons","personsService","then","catch","error","showMessage","useEffect","successNotification","setTimeout","target","entryObject","some","e","personId","find","item","updatedEntry","Object","assign","window","confirm","n","returnedPerson","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c34676a2.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'/*'http://localhost:3001/api/persons'*/\r\n\r\n//const baseUrl = '/api/persons'\r\n\r\nexport const getAll = async () => {\r\n  const request = axios.get(baseUrl)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport const create = async newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport const update = async (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport const remove = async (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\n\r\nconst exportVariables = {getAll, create, update, remove}\r\nexport default  exportVariables","import React from 'react'\r\n\r\nconst Filter = (newFilter, filterNames) => \r\n\r\n<form onSubmit={doNothing}>\r\n    Filter shown with: \r\n    <input value={newFilter} onChange={filterNames}/>\r\n</form>\r\n\r\nconst doNothing = (event) => event.preventDefault()\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst NewPerson = (addEntry, newName, handleNewName, newNumber, handleNewNumber) => {\r\n      \r\n      return  <>\r\n        <form onSubmit={addEntry}>\r\n        <div>name: <input value={newName}\r\n        onChange={handleNewName} />\r\n        </div>\r\n        <div>number: <input value={newNumber}\r\n        onChange={handleNewNumber} />\r\n        </div>\r\n        <div><button type=\"submit\">Add</button></div>\r\n        </form>\r\n      </>\r\n  }\r\n\r\n  export default NewPerson","import React from 'react'\r\n\r\nconst PhoneBook = (persons, newFilter, removeEntry) => {\r\n    let filterUpperCase = newFilter.toUpperCase()\r\n    let newArray = persons.filter((person)=>{\r\n      let personInUpperCase = person.name.toUpperCase()\r\n      return personInUpperCase.includes(filterUpperCase)\r\n    })\r\n    return newArray.map(person => \r\n      <div key={person.name}>{person.name} {person.number}<button onClick={() => removeEntry(person)}>delete</button>\r\n      </div>)\r\n  }\r\n\r\n  export default PhoneBook","import React from 'react'\r\n\r\nconst Notification = (message, success) => {\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if (success)\r\n    return (\r\n      <div className=\"success\" style={styles.success}>\r\n        {message}\r\n      </div>\r\n    )\r\n  else\r\n    return (\r\n      <div className=\"success\" style={styles.fail}>\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n  \r\n\r\n\r\nvar styles = ({\r\n    success: {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n\r\n    },\r\n    fail: {\r\n      color: 'red',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      borderStyle: 'solid',\r\n      borderRadius: 5,\r\n      padding: 10,\r\n      marginBottom: 10,\r\n\r\n  },\r\n  })\r\n\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport personsService from './services/persons'\r\nimport Filter from './components/Filter'\r\nimport NewPerson from './components/NewPerson'\r\nimport PhoneBook from './components/PhoneBook'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter] = useState('')\r\n  const [ notification, setNotification] = useState(null)\r\n  const [ success, setSuccess] = useState(null)\r\n\r\n  \r\n\r\n\r\n  const getPersons = () => {\r\n    personsService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n      .catch(error => showMessage(\"Data search unsuccesful\", false ))\r\n  }\r\n  useEffect(getPersons,[])/* => {\r\n    //getPersons()\r\n  }, [])*/\r\n\r\n\r\n\r\n  const addEntry = (event) => {\r\n    event.preventDefault()\r\n    const entryObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.some(e => e.name === newName)) {\r\n\r\n      let personId = persons.find(item => item.name === newName)\r\n    \r\n      let updatedEntry = Object.assign(personId, entryObject)\r\n\r\n      if (window.confirm(`Do you want to update ${newName} with number ${newNumber}?`)) {\r\n        personsService\r\n        .update(personId.id, entryObject)\r\n          .then( () => {\r\n            setPersons(persons.map(item => (item.name === newName) ? updatedEntry : item))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            showMessage(`User ${newName} phone number has been updated`)\r\n          })\r\n          .catch(error => {\r\n            showMessage(`Update unsuccesful. User ${newName} has already been removed from the phonebook.`, false)\r\n            setPersons(persons.filter(n => n.name !== newName))\r\n          })\r\n           \r\n      }\r\n    }\r\n    \r\n    else {\r\n\r\n      if (persons.some(e => e.number === newNumber)){\r\n        showMessage(`Number ${newNumber} has already been added to the phonebook .`, false)\r\n      }  \r\n      else {\r\n\r\n        if (newName === \"\" || newNumber === \"\") {\r\n          showMessage(`Name and number cannot be empty`, false)\r\n        }\r\n        else {\r\n          personsService\r\n          .create(entryObject)\r\n            .then(returnedPerson => {\r\n              setPersons(persons.concat(returnedPerson))\r\n              setNewName('')\r\n              setNewNumber('')\r\n              showMessage(`User ${newName} has already been added to the phonbook`)\r\n          })\r\n            .catch(error => {\r\n              return showMessage(`Adding number unsuccesful. More info about error: ${error.response.data.error}`, false)}  )\r\n            getPersons()\r\n        }\r\n      }\r\n    }\r\n     \r\n  }\r\n\r\n  const removeEntry = (person) => {\r\n    if (window.confirm(`Remove ${person.name}?`)) { \r\n      personsService\r\n      .remove(person.id)\r\n        .then( () => {\r\n          setPersons(persons.filter(item => item.id !== person.id ))\r\n          showMessage(`User ${person.name} has already been deleted from the Phonebook`)\r\n        })\r\n      .catch(error => {\r\n          showMessage(`Deleting unsuccesful. User ${person.name} has already been deleted from the Phonebook.`, false)\r\n          console.log(\"id already removed (or other problem)\")\r\n          getPersons()\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n    setNewName(event.target.value)  \r\n  }\r\n\r\n  const handleNewNumber= (event) => {\r\n    setNewNumber(event.target.value)  \r\n  }\r\n\r\n  const filterNames = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const showMessage = (message, successNotification=true) => {\r\n    setNotification(message)\r\n    setSuccess(successNotification)\r\n    \r\n    setTimeout(() => {\r\n      setNotification(null)\r\n      setSuccess(null)\r\n    }, 8000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <div>{Notification(notification, success)}</div>\r\n     {Filter(newFilter, filterNames)}\r\n      <h2>Add a new</h2>\r\n        {NewPerson(addEntry, newName, handleNewName, newNumber, handleNewNumber)}\r\n      <h2>Numbers</h2>\r\n        {PhoneBook(persons, newFilter, removeEntry)}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}